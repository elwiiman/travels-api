(this["webpackJsonptravels-front"]=this["webpackJsonptravels-front"]||[]).push([[0],{43:function(e,a,t){e.exports=t(76)},48:function(e,a,t){},74:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),o=(t(48),t(10)),i=function(e){var a=e.submit,t=e.action,n=e.email,r=void 0===n?"":n,c=e.usernameOrEmail,o=void 0===c?"":c,i=e.password,s=void 0===i?"":i,u=e.confirmPass,m=void 0===u?"":u,d=e.username,p=void 0===d?"":d,v=e.handleChange;return l.a.createElement("form",{className:"uk-form-stacked",onSubmit:a},l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label"},"signup"===t?"Email":"Email o Username"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"signup"===t?"icon: mail":"icon: user"}),l.a.createElement("input",{onChange:v,name:"signup"===t?"email":"usernameOrEmail",value:"signup"===t?r:o,className:"uk-input",type:"signup"===t?"email":"text",autoComplete:"on"}))),"signup"===t?l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label"},"Username"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),l.a.createElement("input",{onChange:v,name:"username",value:p,className:"uk-input",type:"text",autoComplete:"on"}))):null,l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label"},"Password"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),l.a.createElement("input",{onChange:v,name:"password",value:s,className:"uk-input",type:"password",autoComplete:"on"}))),"signup"===t?l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label"},"Confirm Password"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),l.a.createElement("input",{onChange:v,name:"confirmPass",value:m,className:"uk-input",type:"password",autoComplete:"on"}))):null,l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},t)))},s=t(15),u=t(3);function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(t,!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p=function(){var e=Object(n.useState)({}),a=Object(u.a)(e,2),t=a[0],l=a[1];return{form:t,setForm:l,handleInput:function(e){var a=e.target,t=a.name,n=a.value;l((function(e){return d({},e,Object(s.a)({},t,n))}))},handleFileInput:function(e){var a=e.target,t=a.name,n=a.files;l((function(e){return d({},e,Object(s.a)({},t,n))}))},removeKey:function(e){var a=d({},t);delete a[e],l(d({},a))},removeKeyWithIndex:function(e,a){var n=d({},t);delete n[e],n.route.splice(a,1),l(d({},n))}}},v=t(6),k=t.n(v),E="https://mexico-para-todos.herokuapp.com/api",f=Object(n.createContext)(),g=function(e){var a=e.children,t=JSON.parse(localStorage.getItem("user"))||{},r=Object(n.useState)(t),c=Object(u.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],p=m[1],v=Object(n.useState)([]),k=Object(u.a)(v,2),E=k[0],g=k[1],b=Object(n.useState)(null),h=Object(u.a)(b,2),N=h[0],y=h[1],x=Object(n.useState)([]),j=Object(u.a)(x,2),O=j[0],w=j[1],S=Object(n.useState)(1),C=Object(u.a)(S,2),D=C[0],I=C[1];return l.a.createElement(f.Provider,{value:{user:o,setUser:i,resetContext:function(){i({}),p([]),y(null),w([]),I(1)},travels:d,setTravels:p,myReservations:E,setMyReservations:g,travel:N,setTravel:y,assistants:O,setAssistants:w,step:D,setStep:I,resetStepsAndAssistants:function(){w([]),I(1)}}},a)},b=t(2),h=t.n(b),N=function(){var e=p(),a=e.form,t=e.handleInput,r=Object(n.useContext)(f).setUser,c=Object(o.f)().push,s=!1;return l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement(i,Object.assign({submit:function(e){var t;e.preventDefault(),(t=a,k.a.post("".concat(E,"/login"),t)).then((function(e){var a=e.data,t=a.user,n=a.token;localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",n),r(t),c("/home")})).catch((function(e){var a=e.response.data.errormsg;!1===s&&(s=!0,h.a.notification({message:"".concat(a),pos:"top-center",status:"danger",timeout:3100}),h.a.util.on(document,"close",(function(e){s=!1})))}))},action:"login",handleChange:t},a))))},y=function(){var e=p(),a=e.form,t=e.handleInput,r=Object(n.useContext)(f).setUser,c=Object(o.f)().push,s=!1;return l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement(i,Object.assign({submit:function(e){var t;e.preventDefault(),(t=a,k.a.post("".concat(E,"/signup"),t)).then((function(e){var a=e.data,t=a.user,n=a.token;localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",n),r(t),c("/home"),h.a.notification({message:"Felicidades! Cuenta creada con \xe9xito",pos:"top-center",status:"success"})})).catch((function(e){var a=e.response.data.errormsg;!1===s&&(s=!0,h.a.notification({message:"".concat(a),pos:"top-center",status:"danger",timeout:3100}),h.a.util.on(document,"close",(function(e){s=!1})))}))},action:"signup",handleChange:t},a))))},x="https://mexico-para-todos.herokuapp.com/api",j=function(e){var a=localStorage.getItem("token");return k.a.get("".concat(x,"/travel/").concat(e),{headers:{Authorization:a}})},O=function(e,a){var t=localStorage.getItem("token");return k.a.patch("".concat(x,"/travel/").concat(a),e,{headers:{Authorization:t,"Content-Type":"multipart/form-data"}})},w=function(e){var a=e.src,t=e.alt,n=e.className,r=e.info;return l.a.createElement("div",null,l.a.createElement("img",{src:a,alt:t,className:n}),l.a.createElement("span",null,r))},S=t(1),C=t(5),D=t.n(C),I=(t(16),t(8)),P=function(e){var a=e.aviableSeats,t=e.title,r=e.toggleReserv,c=e.nextStep,o=e.price,i=Object(n.useState)(1),s=Object(u.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)([{value:null}]),v=Object(u.a)(p,2),k=v[0],E=v[1],g=!1,b=Object(n.useContext)(f),N=b.assistants,y=b.setAssistants;return l.a.createElement("div",null,l.a.createElement("h2",{className:"uk-padding uk-padding-remove-bottom"},"Reservaci\xf3n: ".concat(t)),l.a.createElement("form",{className:"uk-padding uk-padding-remove-top"},l.a.createElement("div",{className:"uk-padding-remove-bottom"},l.a.createElement("p",null,"Selecciona el numero de reservaciones a realizar"),l.a.createElement("button",{className:"uk-button uk-button-primary control-button",type:"button",onClick:function(){if(m>1&&!1===g){d(m-1);var e=Object(I.a)(k);console.log("before",e),e.pop({value:null}),console.log("after",e),E(e)}1===m&&!1===g&&(g=!0,h.a.notification({message:"Tienes que reservar por lo menos un lugar",pos:"top-center",status:"warning",timeout:2050}),h.a.util.on(document,"close",(function(e){g=!1})))},"uk-icon":"icon: minus; ratio: 0.6"}),l.a.createElement("input",{className:"uk-input uk-form-width-xsmall control-input",type:"text",placeholder:"X-Small",value:m,disabled:!0}),l.a.createElement("button",{className:"uk-button uk-button-primary control-button",type:"button",onClick:function(){if(m<a&&!1===g){d(m+1);var e=Object(I.a)(k);console.log("before",e),e.push({value:null}),console.log("after",e),E(e)}m===a&&!1===g&&(g=!0,h.a.notification({message:"No puedes reservar m\xe1s lugares de los disponibles",pos:"top-center",status:"warning",timeout:2050}),h.a.util.on(document,"close",(function(e){g=!1})))},"uk-icon":"icon: plus; ratio: 0.6"}),l.a.createElement("span",{className:"marked-border uk-padding-large"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576444005/MexicoParaTodos/Utils/icon_mgivrg.png",alt:"bill-icon",className:"personal-icon uk-margin-small-right"}),new Intl.NumberFormat("en-US",{style:"currency",currencyDisplay:"code",currency:"MXN"}).format(o*m))),l.a.createElement("p",null,"Reg\xedstrate y Registra a tus acompa\xf1antes"),l.a.createElement("div",{className:"container-overflowed"},k.map((function(e,a){var t="companion-".concat(a);return l.a.createElement("div",{className:"uk-padding-small",key:a},l.a.createElement("label",null,0===a?"Responsable de Reservaci\xf3n":"Acompa\xf1ante ".concat(a)),l.a.createElement("input",{className:"uk-input",name:t,type:"text",placeholder:"Nombre completo de viajero",value:e.value||"",onChange:function(e){return function(e,a){var t=Object(I.a)(k);t[e].value=a.target.value,E(t),console.log(k)}(a,e)}}))})))),l.a.createElement("div",{className:"uk-flex uk-flex-center uk-margin"},l.a.createElement("div",{className:"uk-margin-right"},l.a.createElement("button",{onClick:r,className:"uk-button uk-button-primary"},"Cancelar")),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){!function(){var e=[],a=!1;k.map((function(t,n){if(null===t.value||""===t.value)return a=!1,void h.a.notification({message:"Todos los campos de registro deben estar llenos.\n          Falta Registro de ".concat(0===n?"Responsable de Reservaci\xf3n":"Acompa\xf1ante ".concat(n)),pos:"top-center",status:"warning",timeout:2050});a=!0,e.push(t.value)})),console.log("cancontinue",a),a&&(y([].concat(e)),console.log(N),c())}()},className:"uk-button uk-button-primary"},"Siguiente"))))},A=function(){var e=Object(n.useContext)(f).assistants,a=e.map((function(e,a){return 0===a?"Responsable":"Acompa\xf1ante ".concat(a)})),t=e.map((function(e,t){return{roleOfAssistant:a[t],name:e}})),r=Object.values(t).map((function(e){return Object.values(e).map((function(e){return e}))}));return l.a.createElement("table",{className:"uk-table uk-table-striped uk-table-justify"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Asistente"),l.a.createElement("th",null,"Nombre"))),l.a.createElement("tbody",null,r.map((function(e,a){return l.a.createElement("tr",{key:a},e.map((function(e,a){return l.a.createElement("td",{key:a},e)})))}))))};D.a.locale("es");var T=function(e){var a=e.price,t=e.numRerserves,n=e.outDate,r=e.duration,c=e.type;return l.a.createElement("table",{className:"uk-table uk-table-striped uk-table-justify"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Detalle"),l.a.createElement("th",null,"Informaci\xf3n"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total a pagar"),l.a.createElement("td",null,new Intl.NumberFormat("en-US",{style:"currency",currencyDisplay:"code",currency:"MXN"}).format(a))),l.a.createElement("tr",null,l.a.createElement("td",null,"No. de Reservaciones"),l.a.createElement("td",null,t)),l.a.createElement("tr",null,l.a.createElement("td",null,"Fecha de Salida"),l.a.createElement("td",null,D()(n).format("L"))),l.a.createElement("tr",null,l.a.createElement("td",null,"D\xedas"),l.a.createElement("td",null,r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Noches"),l.a.createElement("td",null,r-1)),l.a.createElement("tr",null,l.a.createElement("td",null,"Transporte"),l.a.createElement("td",null,c))))},R=t(18),M=t(19),U=t(21),F=t(20),_=t(22),V=t(40),z=t.n(V),L=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(U.a)(this,Object(F.a)(a).call(this,e))).state={showButton:!1},window.React=l.a,window.ReactDOM=c.a,t}return Object(_.a)(a,e),Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.isScriptLoaded,t=e.isScriptLoadSucceed;a&&t&&this.setState({showButton:!0})}},{key:"componentWillReceiveProps",value:function(e){var a=e.isScriptLoaded,t=e.isScriptLoadSucceed;!this.state.showButton&&!this.props.isScriptLoaded&&a&&t&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=window.PAYPAL,a=this.props,t=a.total,n=a.currency,r=a.env,c=a.commit,o=a.client,i=a.onSuccess,s=a.onError,u=a.onCancel,m=this.state.showButton;return l.a.createElement("div",null,m&&l.a.createElement(e.Button.react,{env:r,client:o,commit:c,payment:function(){return e.rest.payment.create(r,o,{transactions:[{amount:{total:t,currency:n}}]})},onAuthorize:function(e,a){return a.payment.execute().then((function(){var a={paid:!0,cancelled:!1,payerID:e.payerID,paymentID:e.paymentID,paymentToken:e.paymentToken,returnUrl:e.returnUrl};i(a)}))},onCancel:u,onError:s}))}}]),a}(l.a.Component),B=z()("https://www.paypalobjects.com/api/checkout.js")(L),K={production:"ASweEfK2gACAW0RTChUdcnBhArbbR1hFLp6hxNOL-ymWPJg3dyvzCD2FDn7n8KTtAnPZ_RigrKmX3crx"},X=function(e){function a(){return Object(R.a)(this,a),Object(U.a)(this,Object(F.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(M.a)(a,[{key:"render",value:function(){var e=this.props,a=e.price,t=e.userId,n=e.travelId,r=e.assistants,c=e.nextStep,o=e.aviableSeats;a*=r.length;return l.a.createElement("div",null,l.a.createElement(B,{client:K,env:"production",commit:!0,currency:"MXN",total:a,onSuccess:function(e){console.log("Successful payment!",e);var a={owner:t,travel:n,companions:r};(function(e){var a=localStorage.getItem("token");return k.a.post("".concat("https://mexico-para-todos.herokuapp.com/api","/reservation/"),e,{headers:{Authorization:a,"Content-Type":"application/json"}})})(JSON.stringify(a)).then((function(e){var a=new FormData;a.append("transport.aviableSeats",o-r.length),O(a,n).then((function(e){console.log(e.data)})),h.a.notification({message:"\xa1FELICIDADES! Tu compra se ha efectuado con \xe9xito",pos:"top-center",status:"success"}),c()})).catch((function(e){console.log(e)}))},onError:function(e){console.log("Erroneous payment OR failed to load script!",e),h.a.notification({message:"Ha ocurrido un problema con el pago. Intenta nuevamente",pos:"top-center",status:"danger"})},onCancel:function(e){return console.log("Cancelled payment!",e)}}))}}]),a}(l.a.Component),W=function(e){var a=e.title,t=e.aviableSeats,r=e.id,c=e.toggleReserv,o=e.price,i=e.outDate,s=e.duration,u=e.type,m=Object(n.useContext)(f),d=m.user,p=m.assistants,v=m.step,k=m.setStep;return console.log(p),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",{className:"uk-padding uk-padding-remove-bottom"},"Confirmaci\xf3n: ".concat(a))),l.a.createElement("div",{className:"uk-flex uk-flex-center uk-margin uk-padding"},l.a.createElement("div",null,l.a.createElement(A,null)),l.a.createElement("div",null,l.a.createElement(T,{price:o*p.length,numRerserves:p.length,outDate:i,duration:s,type:u}))),l.a.createElement("div",{className:"uk-flex uk-flex-center uk-margin"},l.a.createElement("div",{className:"uk-margin-right"},l.a.createElement("button",{onClick:function(){k(v-1)},className:"uk-button uk-button-primary"},"Anterior")),l.a.createElement("div",{className:"uk-margin-right"},l.a.createElement("button",{onClick:c,className:"uk-button uk-button-primary"},"Cancelar")),l.a.createElement("div",{className:"uk-flex uk-flex-center contain"},l.a.createElement(X,{price:o,userId:d._id,travelId:r,assistants:p,nextStep:function(){k(v+1)},aviableSeats:t}))))};D.a.locale("es");var J=function(e){var a=e.title,t=e.companions,n=e.outDate,r=e.price;return n=D()(n).format("L"),r=new Intl.NumberFormat("en-US",{style:"currency",currencyDisplay:"code",currency:"MXN"}).format(r*t.length),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("span",{className:"bold-text"},"Viaje: "),"".concat(a))),l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("span",{className:"bold-text"},"Fecha de Salida: "),"".concat(n))),l.a.createElement("div",null,l.a.createElement("span",{className:"bold-text"},"Cantidad Pagada: "),l.a.createElement("div",{className:""},"".concat(r))),l.a.createElement("div",{className:""},l.a.createElement("div",{className:""},l.a.createElement("ul",{className:"uk-list uk-list-bullet"},l.a.createElement("span",{className:"bold-text"},"Viajeros: "),t.map((function(e,a){return l.a.createElement("li",{key:a},e)}))))))},q=function(){var e=Object(n.useContext)(f),a=e.user,t=e.myReservations,r=e.setMyReservations,c=Object(o.f)().push;return Object(n.useEffect)((function(){if(!Object.keys(a).length)return c("/login");(function(e){var a=localStorage.getItem("token");return k.a.get("".concat("https://mexico-para-todos.herokuapp.com/api","/reservation/").concat(e),{headers:{Authorization:a}})})(a._id).then((function(e){var a=e.data.reservation;r(a)}))}),[]),l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container"},l.a.createElement("ul",{"uk-accordion":"collapsible: false"},t.map((function(e,a){return l.a.createElement("li",{key:a},l.a.createElement(S.b,{className:"uk-accordion-title",to:"#"},e.travel.title),l.a.createElement("div",{className:"uk-accordion-content"},l.a.createElement(J,{title:e.travel.title,outDate:e.travel.outDate,companions:e.companions,price:e.travel.price})))})))))},H=function(e){var a=e.title,t=e.aviableSeats,r=e.id,c=e.toggleReserve,o=e.price,i=e.outDate,s=e.duration,u=e.type,m=Object(n.useContext)(f),d=m.assistants,p=m.step,v=m.setStep;return console.log(d),1===p?l.a.createElement("div",null,l.a.createElement(P,{toggleReserv:function(){return c()},title:a,aviableSeats:t,nextStep:function(){v(p+1)},price:o,backStep:function(){v(p-1)}})):2===p?l.a.createElement(W,{title:a,price:o,outDate:i,duration:s,type:u,toggleReserv:function(){return c()},aviableSeats:t,id:r}):3===p?l.a.createElement(q,null):void 0};D.a.locale("es");var Q=function(e){var a=e._id,t=e.title,r=e.photos,c=void 0===r?[]:r,o=e.price,i=e.transport,s=void 0===i?0:i,m=(e.updatedAt,e.deleteATravel,e.outDate),d=e.countryState,p=e.duration,v=void 0===p?0:p,k=e.description,E=e.route,g=void 0===E?[]:E,b=Object(n.useState)(!1),h=Object(u.a)(b,2),N=h[0],y=h[1],x=Object(n.useContext)(f).resetStepsAndAssistants,j=function(){y((function(e){return!e})),x()};return l.a.createElement("div",null,N?l.a.createElement("div",null,l.a.createElement(H,{title:t,aviableSeats:s.aviableSeats,type:s.type,id:a,price:o,outDate:m,duration:v,toggleReserve:function(){j()}})):l.a.createElement("div",null,l.a.createElement("h2",{className:"uk-padding uk-padding-remove-bottom"},t),l.a.createElement("div",{className:"uk-width-1-1","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-3-5"},l.a.createElement("div",{className:"uk-position-relative uk-visible-toggle uk-light uk-margin-medium-left",tabIndex:"-1","uk-slideshow":"autoplay: true"},l.a.createElement("ul",{className:"uk-slideshow-items"},c.map((function(e,a){return l.a.createElement("li",{key:a},l.a.createElement("img",{src:e,alt:"".concat(a),"uk-cover":"true"}))}))),l.a.createElement(S.b,{className:"uk-position-center-left uk-position-small uk-hidden-hover",to:"#","uk-slidenav-previous":"true","uk-slideshow-item":"previous"}),l.a.createElement(S.b,{className:"uk-position-center-right uk-position-small uk-hidden-hover",to:"#","uk-slidenav-next":"true","uk-slideshow-item":"next"}))),l.a.createElement("div",{className:"uk-width-2-5 uk-text-justify uk-flex uk-flex-center uk-flex-middle "},k)),l.a.createElement("div",{className:"uk-padding"},l.a.createElement("h3",{className:""},"Highlights de Viaje"),l.a.createElement("ul",{className:"uk-list uk-list-divider"},g.map((function(e,a){return l.a.createElement("li",{key:a},e)})))),l.a.createElement("div",{"uk-grid":"true",className:"uk-padding uk-padding-remove-top"},l.a.createElement("div",{className:"uk-width-2-5"},l.a.createElement("h3",null,"Detalles de Viaje"),l.a.createElement("div",{"uk-grid":"true"},l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576184255/MexicoParaTodos/Utils/calendar_it2mei.png",alt:"calendar-icon",className:"personal-icon uk-margin-small-right",info:D()(m).format("L")}),l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576184901/MexicoParaTodos/Utils/placeholder_ll1vml.png",alt:"location-icon",className:"personal-icon uk-margin-small-right",info:d}),l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187220/MexicoParaTodos/Utils/sunny-day_xwu0tk.png",alt:"sun-icon",className:"personal-icon uk-margin-small-right",info:v}),l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187107/MexicoParaTodos/Utils/moon_xt6bi4.png",alt:"night-icon",className:"personal-icon uk-margin-small-right",info:v-1}),l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576219156/MexicoParaTodos/Utils/bus_dqmsfo.png",alt:"bus-icon",className:"personal-icon uk-margin-small-right",info:s.type}))),l.a.createElement("div",{className:"uk-width-2-5"},l.a.createElement("h3",null,"Precio y lugares disponibles"),l.a.createElement("div",{"uk-grid":"true"},l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187970/MexicoParaTodos/Utils/coin_hycoxa.png",alt:"coin-icon",className:"personal-icon uk-margin-small-right",info:new Intl.NumberFormat("en-US",{style:"currency",currencyDisplay:"code",currency:"MXN"}).format(o)}),l.a.createElement(w,{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576189039/MexicoParaTodos/Utils/sitting-silhouette_k4sxfd.png",alt:"seat-icon",className:"personal-icon uk-margin-small-right",info:"".concat(s.aviableSeats)}))),l.a.createElement("div",{className:"uk-width-1-6"},l.a.createElement("button",{id:"boton-reserva",onClick:j,className:"uk-button uk-button-primary"},"Reservar")))))},Z=function(){var e=Object(n.useContext)(f),a=e.user,t=e.travel,r=e.setTravel,c=Object(o.g)().id,i=Object(o.f)().push;return Object(n.useEffect)((function(){if(!Object.keys(a).length)return i("/login");j(c).then((function(e){var a=e.data.travel;r(a)}))}),[]),l.a.createElement(Q,t)},G=t(41),Y=function(e){Object(G.a)(e);var a=Object(n.useState)(!0),t=Object(u.a)(a,2),r=t[0],c=t[1],o=p(),i=o.form,s=o.handleInput,m=o.handleFileInput,d=Object(n.useContext)(f),v=d.user,E=d.setUser,g=function(){c((function(e){return!e}))};return l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center "},r?l.a.createElement("form",{className:"uk-form-stacked uk-container-special"},l.a.createElement("div",{className:"uk-margin"},l.a.createElement("div",{"uk-form-custom":"target: true"},l.a.createElement("input",{className:"uk-input",type:"file",onChange:m,name:"profilepic"}),l.a.createElement("input",{className:"uk-input uk-form-width-large uk-input-special-width",type:"text",placeholder:"Click para subir nueva foto"}))),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label"},"Username"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("input",{onChange:s,name:"username",className:"uk-input",type:"text",defaultValue:v.username}))),l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement("button",{className:"uk-button uk-button-primary button-margin-right",type:"button",onClick:g},"Cancelar"),l.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:function(e){e.preventDefault();var a=new FormData,t=i.profilepic,n=i.username;n||(n=v.username),t||(t=[v.profilepic]),t[0]!==v.profilepic||n!==v.username?void 0===t&&n===v.username||(a.append("profilepic",t[0]),a.append("username",n),function(e){var a=localStorage.getItem("token");return k.a.patch("".concat("https://mexico-para-todos.herokuapp.com/api","/profile/edit"),e,{headers:{Authorization:a,"Content-Type":"multipart/form-data"}})}(a).then((function(e){var a=e.data.user;E(a),g(),h.a.notification({message:"Profile actualizado con \xe9xito!",pos:"top-center",status:"success"})})).catch((function(e){var a=e.response.data.errormsg;h.a.notification({message:"".concat(a),pos:"top-center",status:"danger"})}))):h.a.notification({message:"No hay cambios que actualizar",pos:"top-center",status:"warning"})}},"Actualizar Datos"))):l.a.createElement($,null))},$=function(){var e=Object(n.useState)(!1),a=Object(u.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(f).user;return l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},t?l.a.createElement(Y,null):l.a.createElement("form",{className:"uk-form-stacked uk-container-special"},l.a.createElement("div",{className:"avatar uk-flex uk-flex-center"},l.a.createElement("img",{className:"avatar",src:c.profilepic,alt:"profilepic",width:"160px",height:"160spx"})),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("label",{className:"uk-form-label text-center"},"Username"),l.a.createElement("div",{className:"uk-inline"},l.a.createElement("input",{name:"username",className:"uk-input",type:"text",defaultValue:c.username,disabled:!0}))),l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:function(){r((function(e){return!e}))}},"Edit"))))},ee=["Aguascalientes","Baja California","Baja California Sur","Campeche","Chiapas","Chihuahua","Coahuila de Zaragoza","Colima","Durango","Estado de M\xe9xico","Guanajuato","Guerrero","Hidalgo","Jalisco","Michoac\xe1n","Morelos","Nayarit","Nuevo Le\xf3n","Oaxaca","Puebla","Quer\xe9taro","Quintana Roo","San Luis Potos\xed","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucat\xe1n","Zacatecas"],ae=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],te=function(e){var a=e.removeKey,t=e.handleChange,r=e.handleFileInput,c=e.title,o=void 0===c?"":c,i=e.price,s=void 0===i?"":i,m=e.outDate,d=void 0===m?"":m,p=e.countryState,v=void 0===p?"":p,k=e.description,E=void 0===k?"":k,f=e.type,g=void 0===f?"":f,b=e.aviableSeats,h=void 0===b?"":b,N=e.duration,y=void 0===N?"":N,x=e.submit,j=e.route,O=e.action,w=Object(n.useState)([{point:null}]),S=Object(u.a)(w,2),C=S[0],D=S[1];return l.a.createElement("form",{onSubmit:x},l.a.createElement("fieldset",{className:"uk-fieldset"},l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"T\xedtulo del Viaje"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:t,name:"title",value:o,className:"uk-input",type:"text"})))),l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",{className:"uk-width-4-6"},l.a.createElement("label",{className:"uk-form-label"},"Precio por Persona (MXN)"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:t,name:"price",value:s,className:"uk-input",type:"number"}))))),l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Fecha de Salida"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:t,name:"outDate",value:d,className:"uk-input",type:"date"})))),l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Estado a visitar"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("select",{onChange:t,name:"countryState",value:v,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona\xa0una\xa0opci\xf3n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",ee.map((function(e,a){return l.a.createElement("option",{key:a,value:"".concat(e)},e,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")}))))))),l.a.createElement("label",{className:"uk-form-label"},"Descripci\xf3n"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("textarea",{className:"uk-textarea",rows:"9",placeholder:"Escribe una descripcion",onChange:t,name:"description",value:E,type:"text"})),l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Transporte"),l.a.createElement("select",{type:"text",onChange:t,name:"type",value:g,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),l.a.createElement("option",{value:"Autobus"},"Autob\xfas"),l.a.createElement("option",{value:"Van"},"Van")))),l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Lugares Disponibles"),l.a.createElement("select",{type:"number",onChange:t,name:"aviableSeats",value:h,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),l.a.createElement("option",{value:"8"},"8"),l.a.createElement("option",{value:"16"},"16"),l.a.createElement("option",{value:"24"},"24"),l.a.createElement("option",{value:"32"},"32")))),l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Duraci\xf3n en d\xedas"),l.a.createElement("select",{onChange:t,name:"duration",value:y,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),ae.map((function(e,a){return l.a.createElement("option",{key:a,value:"".concat(e)},e)})))))),l.a.createElement("div",{className:"container uk-margin-medium-bottom uk-margin-medium-top"},l.a.createElement("p",null,"Puntos de Inter\xe9s"),C.map((function(e,n){var r="point-".concat(n);return l.a.createElement("div",{key:"dataset-".concat(n)},l.a.createElement("label",{className:"uk-form-label"},"Punto de inter\xe9s ".concat(n),l.a.createElement("button",{type:"button",className:"uk-margin-medium-left","uk-icon":"trash",onClick:function(){return function(e){a("point-".concat(e)),console.log("before",C),console.log(e);var t=Object(I.a)(C);t.splice(e,1),D(t),console.log("after",C)}(n)}})),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:t,name:r,value:j,className:"uk-input",type:"text"})))})),l.a.createElement("input",{type:"button",value:"Agregar nuevo punto de inter\xe9s",onClick:function(){var e=Object(I.a)(C);e.push({point:null}),D(e)},className:"uk-button uk-button-default"})),l.a.createElement("div",{className:"uk-margin","uk-margin":"true"},l.a.createElement("div",{"uk-form-custom":"target: true"},l.a.createElement("input",{onChange:r,name:"photos",type:"file",multiple:!0}),l.a.createElement("input",{className:"uk-input uk-form-width-large",type:"text",placeholder:"Selecciona fotos representativas del viaje",disabled:!0}))),l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center uk-margin-medium-top"},l.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},O))))},ne=function(){var e=p(),a=e.form,t=e.handleInput,n=e.handleFileInput,r=e.removeKey,c=Object(o.f)().push;return l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container "},l.a.createElement(te,Object.assign({submit:function(e){e.preventDefault(),console.log(a);var t=new FormData;for(var n in a){if("photos"===n)for(var l=0,r=Array.from(a[n]);l<r.length;l++){var o=r[l];t.append(n,o)}"type"!==n&&"aviableSeats"!==n||("type"===n?t.append("transport.type",a[n]):t.append("transport.aviableSeats",a[n])),n.includes("point")||"route"===n?t.append("route",a[n]):"title"!==n&&"duration"!==n&&"description"!==n&&"price"!==n&&"countryState"!==n&&"outDate"!==n||t.append(n,a[n])}(function(e){var a=localStorage.getItem("token");return k.a.post("".concat(x,"/travel"),e,{headers:{Authorization:a,"Content-Type":"multipart/form-data"}})})(t).then((function(e){console.log(e.data),h.a.notification({message:"\xa1Viaje creado con exito!",pos:"top-center",status:"success"}),c("/home")})).catch((function(e){console.log(e),e&&h.a.notification({message:"Algo sali\xf3 mal, verifica que haz llenado todos los campos",pos:"top-center",status:"danger"})}))},handleChange:t,handleFileInput:n,action:"Crear",removeKey:r},a))))},le=function(e){var a=e.removeKeyWithIndex,t=e.outDate,r=void 0===t?"":t,c=e.countryState,i=void 0===c?"":c,s=e.handleChange,m=e.handleFileInput,d=e.title,p=void 0===d?"":d,v=e.price,k=void 0===v?"":v,E=e.description,f=void 0===E?"":E,g=e.type,b=void 0===g?"":g,h=e.aviableSeats,N=void 0===h?"":h,y=e.duration,x=void 0===y?"":y,j=e.submit,O=e.route,w=void 0===O?[]:O,S=e.photos,C=void 0===S?[]:S,D=(e.pointOfInterest,e.action),P=Object(o.f)().push,A=Object(n.useState)(Object(I.a)(w)),T=Object(u.a)(A,2),R=T[0],M=T[1];Object(n.useEffect)((function(){M(Object(I.a)(w))}),[w]);return console.log(R),l.a.createElement("form",{onSubmit:j},l.a.createElement("fieldset",{className:"uk-fieldset"},l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"T\xedtulo del Viaje"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:s,name:"title",value:p,className:"uk-input",type:"text"})))),l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",{className:"uk-width-4-6"},l.a.createElement("label",{className:"uk-form-label"},"Precio por Persona (MXN)"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:s,name:"price",value:k,className:"uk-input",type:"number"}))))),l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Fecha de Salida"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:s,name:"outDate",value:r,className:"uk-input",type:"date"})))),l.a.createElement("div",{className:"uk-width-1-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Estado a visitar"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("select",{onChange:s,name:"countryState",value:i,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona\xa0una\xa0opci\xf3n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",ee.map((function(e,a){return l.a.createElement("option",{key:a,value:"".concat(e)},e,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")}))))))),l.a.createElement("label",{className:"uk-form-label"},"Descripci\xf3n"),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("textarea",{className:"uk-textarea",rows:"9",placeholder:"Escribe una descripcion",onChange:s,name:"description",value:f,type:"text"})),l.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Transporte"),l.a.createElement("select",{type:"text",onChange:s,name:"type",value:b,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),l.a.createElement("option",{value:"Autobus"},"Autob\xfas"),l.a.createElement("option",{value:"Van"},"Van")))),l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Lugares Disponibles"),l.a.createElement("select",{type:"number",onChange:s,name:"aviableSeats",value:N,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),l.a.createElement("option",{value:"8"},"8"),l.a.createElement("option",{value:"16"},"16"),l.a.createElement("option",{value:"24"},"24"),l.a.createElement("option",{value:"32"},"32")))),l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("div",null,l.a.createElement("label",{className:"uk-form-label"},"Duraci\xf3n en d\xedas"),l.a.createElement("select",{onChange:s,name:"duration",value:x,className:"uk-select"},l.a.createElement("option",{disabled:!0,value:""},"selecciona una opci\xf3n"),ae.map((function(e,a){return l.a.createElement("option",{key:a,value:"".concat(e)},e)})))))),l.a.createElement("div",{className:"container uk-margin-medium-bottom uk-margin-medium-top"},l.a.createElement("p",null,"Puntos de Inter\xe9s"),R.map((function(e,t){var n="point-".concat(t);return l.a.createElement("div",{key:"dataset-".concat(t)},l.a.createElement("label",{className:"uk-form-label"},"Punto de inter\xe9s ".concat(t),l.a.createElement("button",{type:"button",className:"uk-margin-medium-left","uk-icon":"trash",onClick:function(){return e=t,console.log("actual",R),console.log(e),R.splice(e,1),console.log("spliced",R),M(R),void a("point-".concat(e),e);var e}})),l.a.createElement("div",{className:"uk-margin"},l.a.createElement("input",{onChange:s,name:n,defaultValue:e,className:"uk-input",type:"text"})))})),l.a.createElement("input",{type:"button",value:"Agregar nuevo punto de inter\xe9s",onClick:function(){M([].concat(Object(I.a)(R),[""]))},className:"uk-button uk-button-default"})),l.a.createElement("div",{className:"uk-margin","uk-margin":"true"},l.a.createElement("div",{"uk-form-custom":"target: true"},l.a.createElement("input",{onChange:m,name:"photos",type:"file",defaultValue:C,multiple:!0}),l.a.createElement("input",{className:"uk-input uk-form-width-large",type:"text",placeholder:"Reemplaza fotos representativas del viaje",disabled:!0}))),l.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},l.a.createElement("button",{className:"uk-button uk-button-primary button-margin-right",type:"submit"},D),l.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:function(){P("/home")}},"Cancelar"))))};function re(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var ce=function(){var e=Object(o.g)().id,a=Object(o.f)().push,t=p(),r=t.form,c=t.handleInput,i=t.handleFileInput,u=t.setForm,m=t.removeKeyWithIndex;return Object(n.useEffect)((function(){j(e).then((function(e){var a={},t=e.data.travel,n=t,l=n.transport.type,r=n.transport.aviableSeats,c=n.route,o=n.outDate;c.map((function(e,t){return a["point-".concat(t)]=e}));var i=new Date(o).toISOString().substring(0,10);console.log(o),function(e){u(e)}(t=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?re(t,!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,{type:l,aviableSeats:r,outDate:o=i},a))})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container "},l.a.createElement(le,Object.assign({submit:function(t){t.preventDefault(),console.log(r);var n=new FormData;for(var l in r){if("photos"===l)for(var c=0,o=Array.from(r[l]);c<o.length;c++){var i=o[c];n.append(l,i)}"type"!==l&&"aviableSeats"!==l||("type"===l?n.append("transport.type",r[l]):n.append("transport.aviableSeats",r[l])),l.includes("point")?n.append("route",r[l]):"title"!==l&&"duration"!==l&&"description"!==l&&"price"!==l&&"countryState"!==l&&"outDate"!==l||n.append(l,r[l])}var s=!0,u=!1,m=void 0;try{for(var d,p=n.entries()[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;console.log(v[0]+", "+v[1])}}catch(k){u=!0,m=k}finally{try{s||null==p.return||p.return()}finally{if(u)throw m}}O(n,e).then((function(e){console.log(e.data),h.a.notification({message:"\xa1Viaje actualizado con exito!",pos:"top-center",status:"success"}),a("/home")})).catch((function(e){console.log(e),e&&h.a.notification({message:"Algo sali\xf3 mal, verifica por favor",pos:"top-center",status:"danger"})}))},handleChange:c,handleFileInput:i,action:"Update",removeKeyWithIndex:m},r))))};D.a.locale("es");var oe=function(e){var a=e._id,t=e.title,n=e.photos,r=void 0===n?[]:n,c=e.price,o=e.transport,i=e.updatedAt,s=e.deleteATravel,u=e.outDate,m=e.countryState,d=e.duration,p=e.userType;return console.log(p),l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default "},l.a.createElement("div",{className:"uk-card-header"},l.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-expand"},l.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom"},t),l.a.createElement("time",{className:"uk-text-meta uk-margin-remove-top"},l.a.createElement("time",null,"\xdaltima actualizaci\xf3n: ".concat(D()(i).calendar())))),"admin"===p?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",{"uk-icon":"more-vertical"})),l.a.createElement("div",{"uk-dropdown":"true"},l.a.createElement("ul",{className:"uk-nav uk-dropdown-nav"},l.a.createElement("li",{className:"uk-flex uk-flex-center"},l.a.createElement("button",{type:"button","uk-icon":"trash",onClick:s})),l.a.createElement("li",{className:"uk-nav-divider"}),l.a.createElement("li",{className:"uk-flex uk-flex-center"},l.a.createElement(S.b,{to:"travel/edit/".concat(a),"uk-icon":"file-edit"}))))):null)),l.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},l.a.createElement("img",{src:r[0],alt:"travel","uk-cover":"true"}),l.a.createElement("canvas",{width:"600",height:"500"})),l.a.createElement("div",{className:"uk-margin","uk-grid":"true"},l.a.createElement("div",{className:"uk-width-1-3 uk-flex-inline"},l.a.createElement("div",{className:"uk-padding-small"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576184255/MexicoParaTodos/Utils/calendar_it2mei.png",alt:"calendar-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",{"uk-tooltip":"title: Fecha de Salida; pos: bottom"},D()(u).format("L")))),l.a.createElement("div",{className:"uk-width-1-3 uk-flex-inline"},l.a.createElement("div",{className:"uk-padding-small"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576184901/MexicoParaTodos/Utils/placeholder_ll1vml.png",alt:"calendar-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",null,m))),l.a.createElement("div",{className:"uk-width-1-3 uk-flex-inline"},l.a.createElement("div",{className:"uk-padding-small"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187220/MexicoParaTodos/Utils/sunny-day_xwu0tk.png",alt:"sun-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",null,d)),l.a.createElement("div",{className:"uk-padding-small"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187107/MexicoParaTodos/Utils/moon_xt6bi4.png",alt:"night-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",null,d-1)))),l.a.createElement("div",{className:"uk-width-1-1  uk-flex uk-padding uk-flex-right custom-gray-color-div "},l.a.createElement("div",{className:"uk-width-1-3"},l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576187970/MexicoParaTodos/Utils/coin_hycoxa.png",alt:"coin-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",{"uk-tooltip":"Precio por persona"},new Intl.NumberFormat("en-US",{style:"currency",currencyDisplay:"code",currency:"MXN"}).format(c))),l.a.createElement("div",null,l.a.createElement("img",{src:"https://res.cloudinary.com/elwiiman/image/upload/v1576189039/MexicoParaTodos/Utils/sitting-silhouette_k4sxfd.png",alt:"seat-icon",className:"personal-icon uk-margin-small-right "}),l.a.createElement("span",null,o.aviableSeats))),"user"===p?l.a.createElement("div",{className:"uk-card-footer"},l.a.createElement(S.b,{to:"travel/info/".concat(a),className:"uk-button uk-button-text"},"".concat(o.aviableSeats>0?"M\xe1s Informaci\xf3n":"Reservaciones Agotadas"))):null))},ie=function(){var e=Object(n.useContext)(f),a=e.user,t=e.travels,r=e.setTravels,c=Object(o.f)().push,i=function(e,a){(function(e){var a=localStorage.getItem("token");return k.a.delete("".concat(x,"/travel/").concat(e),{headers:{Authorization:a,"Content-Type":"multipart/form-data"}})})(e).then((function(){t.splice(a,1),r(Object(I.a)(t)),h.a.notification({message:"Viaje borrado con \xe9xito!",pos:"top-center",status:"success"})})).catch((function(){h.a.notification({message:"Ups! Algo sali\xf3 mal con el borrado, itenta de nuevo",pos:"top-center",status:"danger"})}))};return Object(n.useEffect)((function(){if(!Object.keys(a).length)return c("/login");(function(){var e=localStorage.getItem("token");return k.a.get("".concat(x,"/travel"),{headers:{Authorization:e}})})().then((function(e){var a=e.data.travels;r(a)}))}),[]),l.a.createElement("div",{className:"uk-section"},l.a.createElement("div",{className:"uk-container"},l.a.createElement("div",{className:"uk-child-width-1-2@m uk-grid-small uk-grid-match","uk-grid":"true"},t.map((function(e,t){return l.a.createElement(oe,Object.assign({key:t,deleteATravel:function(){return i(e._id,t)}},e,{userType:a.role}))})))))},se=function(){return l.a.createElement("div",{className:"landing uk-container"},l.a.createElement("div",{className:"inside-landing uk-flex uk-flex-center uk-flex-middle uk-flex-column"},l.a.createElement("div",{className:"uk-flex uk-flex-center uk-flex-middle "},l.a.createElement("h1",{className:"mytitle"},"M\xe9xico para Todos")),l.a.createElement("div",{className:"uk-flex uk-flex-center uk-flex-middle "},l.a.createElement(S.b,{className:"principal-button uk-button uk-button-primary uk-button-large",to:"/home"},"Comienza a Viajar"))))},ue=function(){return l.a.createElement("div",{className:"landing-about uk-container"},l.a.createElement("div",{className:"uk-padding uk-flex uk-flex-center uk-flex-top uk-flex-column"},l.a.createElement("div",{className:"uk-flex  "},l.a.createElement("p",{className:"myparagraph"},"M\xe9xico para Todos es la mejor agencia de viajes para recorridos en grupo, con nosotros tienes la seguridad de que vivir\xe1s las mejores experiencias en los lugares m\xe1s incre\xedbles, tenemos los mejores destinos, transportes, hoteles, gu\xedas y coordinadores para que cada viaje sea inolvidable.")),l.a.createElement("div",{className:"uk-padding-top-remove uk-flex uk-flex-center uk-flex-middle "},l.a.createElement(S.b,{className:"principal-button uk-button uk-button-primary uk-button-large",to:"/home"},"Comienza a Viajar"))))},me=function(){return l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/"},l.a.createElement(se,null)),l.a.createElement(o.a,{exact:!0,path:"/about"},l.a.createElement(ue,null)),l.a.createElement(o.a,{exact:!0,path:"/login"},l.a.createElement(N,null)),l.a.createElement(o.a,{exact:!0,path:"/signup"},l.a.createElement(y,null)),l.a.createElement(o.a,{exact:!0,path:"/home"},l.a.createElement(ie,null)),l.a.createElement(o.a,{exact:!0,path:"/profile"},l.a.createElement($,null)),l.a.createElement(o.a,{exact:!0,path:"/travel"},l.a.createElement(ne,null)),l.a.createElement(o.a,{exact:!0,path:"/my-reservations"},l.a.createElement(q,null)),l.a.createElement(o.a,{path:"/travel/edit/:id",component:ce}),l.a.createElement(o.a,{path:"/travel/info/:id",component:Z}))},de=function(){var e=Object(n.useContext)(f),a=e.user,t=e.resetContext,r=Object(o.f)().push;return l.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},l.a.createElement("div",{className:"uk-navbar-left"},l.a.createElement("ul",{className:"uk-navbar-nav"},a._id?null:l.a.createElement("li",{className:""},l.a.createElement(S.c,{className:"lowcase",exact:!0,to:"/"},"Home")),a._id?null:l.a.createElement("li",{className:""},l.a.createElement(S.c,{className:"lowcase",exact:!0,to:"/about"},"\xbfQui\xe9nes somos?")),a._id?l.a.createElement("li",{className:""},l.a.createElement(S.c,{className:"lowcase",exact:!0,to:"/home"},"Viajes")):null,"user"===a.role?l.a.createElement("li",{className:""},l.a.createElement(S.c,{className:"lowcase",exact:!0,to:"/my-reservations"},"Mis Viajes")):null,"admin"===a.role?l.a.createElement("li",{className:""},l.a.createElement(S.c,{className:"lowcase",exact:!0,to:"/travel"},"Crear Nuevo Viaje")):null)),l.a.createElement("div",{className:"uk-navbar-right"},a._id?l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(S.c,{className:"lowcase",to:"#"},a.username?a.username:a.email),l.a.createElement("div",{className:"uk-navbar-dropdown"},l.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},l.a.createElement("li",{className:"uk-active uk-flex uk-flex-center"},l.a.createElement(S.c,{to:"/profile"}," Perfil")),l.a.createElement("hr",null),l.a.createElement("li",{className:"uk-active uk-flex uk-flex-center"},l.a.createElement("button",{"uk-icon":"icon: sign-out",className:"uk-button uk-button-default uk-button-small lowcase",onClick:function(){localStorage.clear(),r("/login"),t()}},"Cerrar Sesi\xf3n")))))):l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",{className:""},l.a.createElement(S.b,{onClick:function(){console.log("imhere")},className:"lowcase",to:"/login"},"Iniciar Sesi\xf3n")),l.a.createElement("li",{className:""},l.a.createElement(S.b,{className:"lowcase",to:"/signup"},"Registrarse")))))};t(74);var pe=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(de,null),l.a.createElement(me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=t(42),ke=t.n(ve);t(75);h.a.use(ke.a);c.a.render(l.a.createElement((function(){return l.a.createElement(g,null,l.a.createElement(S.a,null,l.a.createElement(pe,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.277e831c.chunk.js.map